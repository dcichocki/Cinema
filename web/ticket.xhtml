<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>System obsługi kina</title>
        <link href="bootstrap.css" rel="stylesheet"/>
        <link rel="stylesheet" href="http://getbootstrap.com/dist/css/bootstrap.min.css" /> 
        <link rel="stylesheet" href="style.css" type="text/css"/>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <div class="container">

            <div class="container-fluid">
                <h3 class="text-muted" align="center">System obsługi kina</h3>

                <nav class="navbar navbar-default">
                    <ul class="nav navbar-nav">
                        <li> <a href="index.xhtml">Strona głowna</a></li>
                        <li><a href="register.xhtml">Rejestracja</a></li>
                        <li><a href="films.xhtml">Repertuar</a></li>

                    </ul>
                    <ul class="nav navbar-nav navbar-right"> 
                        <li>
                            <h:panelGroup rendered="#{not empty user}">
                                <li ><a href="user.xhtml">Moje konto</a></li>
                                <li style="margin-top: 15px"> <span class="glyphicon glyphicon-user"></span> Witaj: #{user.login}</li>
                                <li> <form class="form-signin" action="LogoutServlet" method="POST">                                   
                                        <input class="glyphicon glyphicon-log-out" type="image" value="Wyloguj się" href="login.xhtml"></input>
                                    </form></li>
                            </h:panelGroup>
                        </li>
                        <li>
                            <h:panelGroup rendered="#{empty user}"><a href="login.xhtml"><span class="glyphicon glyphicon-log-in" ></span> Zaloguj się</a>                 
                            </h:panelGroup>
                        </li>
                    </ul>
                </nav>
            </div>

            <div class="jumbotron">

                <p class="lead" align="center"> #{seanceController.selected.film.title}</p><br></br>
                <center>
                    <h:form>
                        <h:panelGrid columns="2">
                            <h:outputText value="Numer Sali: "  class="lead" style="margin-left: 30px;" />
                            <h:outputText value="#{seanceController.selected.roomNumber}"  title=" Title" class="lead"/>
                            <h:outputText value="Godzina: " class="lead" style="margin-left: 30px;" />
                            <h:outputText value="#{seanceController.selected.hour}" title="Title" class="lead"  />
                        </h:panelGrid>
                        <p></p>
                        <table>
                            <h:commandButton id="disabled2" disabled="true" class="ekran" value="Ekran" />
                            <p style="margin-bottom: 200px"></p>

                            <c:forEach begin="1" end="5" varStatus="i">
                                <tr>

                                    <c:forEach begin="1" end="10" varStatus="j">
                                        <c:choose>
                                            <c:when test="${ticketBean.isSeatReserved(i.index, j.index, seanceController.selected)}">
                                                <td>
                                                    <h:commandButton id="disabled" disabled="true" class="sala"/>

                                                </td>
                                            </c:when>
                                            <c:otherwise>
                                                <td>
                                                    <h:commandButton action="${ticketBean.reserveSeat(i.index, j.index, seanceController.selected)}" class="sala1"   />

                                                </td>
                                            </c:otherwise>
                                        </c:choose>
                                    </c:forEach>
                                </tr>
                            </c:forEach>
                        </table>
                    </h:form>
                </center>
                <p></p>
                <center>
                    <Button class="salaa" disabled="true" /> - Miejsca zajęte
                    <Button class="sala11" disabled="true"/> - Miejsca wolne
                </center>
            </div>



            <footer class="container-fluid text-center">
                <p> 2017 System obsługi kina, Inc.</p>
            </footer>

        </div> 


    </h:body>
</html>
